<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Arial:300,300italic,400,400italic,700,700italic|Courier+New:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="Java 基础">
<meta property="og:type" content="article">
<meta property="og:title" content="Java 基础第一篇">
<meta property="og:url" content="http://example.com/2019/08/13/java/index.html">
<meta property="og:site_name" content="longlongago">
<meta property="og:description" content="Java 基础">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-08-13T02:55:40.000Z">
<meta property="article:modified_time" content="2020-11-12T06:10:22.246Z">
<meta property="article:author" content="holiday">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2019/08/13/java/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Java 基础第一篇 | longlongago</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">longlongago</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">is always</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#interface"><span class="nav-number">1.</span> <span class="nav-text">interface</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%98%E7%82%B9"><span class="nav-number">2.</span> <span class="nav-text">优点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JDK%E5%92%8CJRE"><span class="nav-number">3.</span> <span class="nav-text">JDK和JRE</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%B9%E6%80%A7"><span class="nav-number">4.</span> <span class="nav-text">特性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%8C%85%E8%A3%85%E7%B1%BB%E5%9E%8B"><span class="nav-number">5.</span> <span class="nav-text">基本类型与包装类型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">6.</span> <span class="nav-text">String</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#amp-%E4%B8%8E-amp-amp"><span class="nav-number">7.</span> <span class="nav-text">&amp;与&amp;&amp;</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E7%9A%84%E5%8A%A0%E8%BD%BD"><span class="nav-number">8.</span> <span class="nav-text">类的加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B1%BB%E5%88%9B%E5%BB%BA%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">9.</span> <span class="nav-text">类创建的方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%87%8D%E8%BD%BD%E4%B8%8E%E9%87%8D%E5%86%99"><span class="nav-number">10.</span> <span class="nav-text">重载与重写</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Constructor"><span class="nav-number">11.</span> <span class="nav-text">Constructor</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E4%B8%8E%E6%8A%BD%E8%B1%A1%E7%B1%BB"><span class="nav-number">12.</span> <span class="nav-text">接口与抽象类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8"><span class="nav-number">13.</span> <span class="nav-text">异常</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hashCode-%E4%B8%8Eequals-%E7%9A%84%E7%BA%A6%E5%AE%9A"><span class="nav-number">14.</span> <span class="nav-text">hashCode()与equals()的约定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%9B%E5%9E%8B"><span class="nav-number">15.</span> <span class="nav-text">泛型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%BF%E5%90%8D%E7%B1%BB"><span class="nav-number">16.</span> <span class="nav-text">匿名类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">17.</span> <span class="nav-text">序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">17.1.</span> <span class="nav-text">阻止序列化</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E5%8D%8F%E8%AE%AE"><span class="nav-number">17.2.</span> <span class="nav-text">序列化协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0"><span class="nav-number">17.3.</span> <span class="nav-text">序列化的底层实现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-number">18.</span> <span class="nav-text">常见关键字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="nav-number">19.</span> <span class="nav-text">排序算法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="nav-number">19.1.</span> <span class="nav-text">冒泡排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F"><span class="nav-number">19.2.</span> <span class="nav-text">插入排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="nav-number">19.3.</span> <span class="nav-text">选择排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F"><span class="nav-number">19.4.</span> <span class="nav-text">快速排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%A2%E9%BB%91%E6%A0%91"><span class="nav-number">19.5.</span> <span class="nav-text">红黑树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8%E6%B7%B1%E5%A4%8D%E5%88%B6"><span class="nav-number">19.6.</span> <span class="nav-text">链表深复制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8%E7%BF%BB%E8%BD%AC"><span class="nav-number">19.7.</span> <span class="nav-text">链表翻转</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java-8-%E6%96%B0%E7%89%B9%E6%80%A7"><span class="nav-number">20.</span> <span class="nav-text">Java 8 新特性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IO%E6%B5%81"><span class="nav-number">21.</span> <span class="nav-text">IO流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.</span> <span class="nav-text">设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E5%88%97%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.1.</span> <span class="nav-text">单列模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.2.</span> <span class="nav-text">工厂模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.3.</span> <span class="nav-text">抽象工厂模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.4.</span> <span class="nav-text">建造者模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.5.</span> <span class="nav-text">适配器模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.6.</span> <span class="nav-text">代理模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F"><span class="nav-number">22.7.</span> <span class="nav-text">观察者模式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B"><span class="nav-number">23.</span> <span class="nav-text">线程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8A%B6%E6%80%81"><span class="nav-number">23.1.</span> <span class="nav-text">状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">23.2.</span> <span class="nav-text">线程优先级</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E4%B8%AA%E7%BA%BF%E7%A8%8B%E6%8C%89%E5%BA%8F%E6%89%A7%E8%A1%8C"><span class="nav-number">23.3.</span> <span class="nav-text">多个线程按序执行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sleep-%E5%92%8Cwait-%E7%9A%84%E5%8C%BA%E5%88%AB%E5%92%8C%E5%85%B1%E5%90%8C%E7%82%B9"><span class="nav-number">23.4.</span> <span class="nav-text">sleep()和wait()的区别和共同点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="nav-number">23.5.</span> <span class="nav-text">线程池</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E5%8F%82%E6%95%B0%E4%B8%8E%E6%8B%92%E7%BB%9D%E7%AD%96%E7%95%A5"><span class="nav-number">23.5.1.</span> <span class="nav-text">主要参数与拒绝策略</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Synchronized"><span class="nav-number">24.</span> <span class="nav-text">Synchronized</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AQS"><span class="nav-number">25.</span> <span class="nav-text">AQS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ReentrantLock"><span class="nav-number">25.1.</span> <span class="nav-text">ReentrantLock</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%94%81"><span class="nav-number">26.</span> <span class="nav-text">锁</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%BB%E9%94%81"><span class="nav-number">26.1.</span> <span class="nav-text">死锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CAS"><span class="nav-number">26.2.</span> <span class="nav-text">CAS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B9%90%E8%A7%82%E9%94%81%E5%92%8C%E6%82%B2%E8%A7%82%E9%94%81"><span class="nav-number">26.3.</span> <span class="nav-text">乐观锁和悲观锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E6%97%8B%E9%94%81"><span class="nav-number">26.4.</span> <span class="nav-text">自旋锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E9%94%81"><span class="nav-number">26.5.</span> <span class="nav-text">同步锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%AF%E9%87%8D%E5%85%A5%E9%94%81"><span class="nav-number">26.6.</span> <span class="nav-text">可重入锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%AC%E5%B9%B3%E9%94%81%E5%92%8C%E9%9D%9E%E5%85%AC%E5%B9%B3%E9%94%81"><span class="nav-number">26.7.</span> <span class="nav-text">公平锁和非公平锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%BB%E5%86%99%E9%94%81"><span class="nav-number">26.8.</span> <span class="nav-text">读写锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B1%E4%BA%AB%E9%94%81%E5%92%8C%E7%8B%AC%E5%8D%A0%E9%94%81"><span class="nav-number">26.9.</span> <span class="nav-text">共享锁和独占锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E6%AE%B5%E9%94%81"><span class="nav-number">26.10.</span> <span class="nav-text">分段锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%81%8F%E5%90%91%E9%94%81%E3%80%81%E8%BD%BB%E9%87%8F%E7%BA%A7%E9%94%81%E5%92%8C%E9%87%8D%E9%87%8F%E7%BA%A7%E9%94%81"><span class="nav-number">26.11.</span> <span class="nav-text">偏向锁、轻量级锁和重量级锁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%81%E4%BC%98%E5%8C%96"><span class="nav-number">26.12.</span> <span class="nav-text">锁优化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8D%E5%B0%84"><span class="nav-number">27.</span> <span class="nav-text">反射</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE%EF%BC%8C-TCP%E7%9A%84%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%92%8C%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"><span class="nav-number">28.</span> <span class="nav-text">网络协议， TCP的三次握手和四次挥手</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">28.1.</span> <span class="nav-text">参考资料</span></a></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="holiday"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">holiday</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">14</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2019/08/13/java/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="holiday">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="longlongago">
    </span>

    
    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java 基础第一篇
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-08-13 10:55:40" itemprop="dateCreated datePublished" datetime="2019-08-13T10:55:40+08:00">2019-08-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2020-11-12 14:10:22" itemprop="dateModified" datetime="2020-11-12T14:10:22+08:00">2020-11-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>14k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>25 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>Java 基础</p>
<a id="more"></a>

<blockquote>
<p>其它文章</p>
</blockquote>
<a href="/2019/11/06/Java-1/" title="Java 基础第二篇">Java 基础第二篇</a>

<h2 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">That means it is not really an interface, but rather a new annotation</span><br><span class="line">type -- to be used as a function modifier, such as @override.</span><br></pre></td></tr></table></figure>

<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>面向对象，平台无关，较好的安全性和健壮性，多线程，简单易学，支持网络编程并且方便，编译与解释共存。</p>
<h2 id="JDK和JRE"><a href="#JDK和JRE" class="headerlink" title="JDK和JRE"></a>JDK和JRE</h2><ul>
<li><strong>JDK</strong>：<strong>Java Development Kit</strong>，是功能齐全的<strong>Java JDK</strong>。包括了 Java 运行环境(JRE)，一堆 Java 工具 tools.jar 和 Java 标准类库 (rt.jar)。它提供了 Java 的开发环境和运行环境。</li>
<li><strong>JRE</strong>：<strong>Java Runtime Enviroment</strong>，面向使用者，不是开发者。</li>
</ul>
<h2 id="特性"><a href="#特性" class="headerlink" title="特性"></a>特性</h2><p><strong>封装、继承、多态。</strong></p>
<ol>
<li>封装： 把对象属性私有化，同时提供给外界可访问的方法。</li>
<li>继承：子类继承父类的特征，并且附加一些新的特征。子类拥有父类所有的方法和属性，私有方法和属性也拥有，但不能访问。</li>
<li>多态：继承与接口。</li>
</ol>
<h2 id="基本类型与包装类型"><a href="#基本类型与包装类型" class="headerlink" title="基本类型与包装类型"></a>基本类型与包装类型</h2><p>8个基础类型 :</p>
<ul>
<li>byte 字节(8 bits)  -128～127</li>
<li>short (16 bits)  -2^15～2^15-1</li>
<li>int (32 bits)   -2^31～2^31-1</li>
<li>long（64 bits） -2^63～2^63-1</li>
<li>float（32 bits）</li>
<li>double (64 bits) </li>
<li>boolean</li>
<li>char (16 bits)</li>
</ul>
<p>包装类型 <code>Byte Short Integer Long Float Double Boolean Character </code></p>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>与<code>StringBuilder</code>的区别： 都是final类，不允许被继承；String字符串不可变，线程安全。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String s1 = <span class="keyword">new</span> String(<span class="string">&quot;Java&quot;</span>); <span class="comment">// 创建一个或两个对象 会首先去判断字符常量池</span></span><br><span class="line"></span><br><span class="line">s1.intern(); <span class="comment">// 仅当 s.equals(t) is true 才有 &#123;s.intern() == t.intern()&#125; is &#123;true&#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="amp-与-amp-amp"><a href="#amp-与-amp-amp" class="headerlink" title="&amp;与&amp;&amp;"></a>&amp;与&amp;&amp;</h2><p>&amp;：位运算符</p>
<p>&amp;&amp;：逻辑运算符，有短路效应</p>
<h2 id="类的加载"><a href="#类的加载" class="headerlink" title="类的加载"></a>类的加载</h2><p>类加载器负责在运行时将Java类动态加载到JVM。有三种不同的类加载器：</p>
<ol>
<li><code>Bootstrap Class Loader，Java类由java.lang.ClassLoader的实例加载，该实例由bootstrap引导，它主要负责加载JDK内部类，通常是rt.jar和$JAVA_HOME/jre/lib目录中的其他核心库。此外，Bootstrap类加载器还充当所有其他ClassLoader实例的父级。</code></li>
<li><code>Extension Class Loader；扩展类加载器是引导类加载器的子级，并负责加载标准核心Java类的扩展。</code></li>
<li><code>Application Class Loader</code><br>类加载遵循委 托模型，当bootstrap和extension class loader 未找到时，尝试自己加载。作为委托模型的结果，很容易确保唯一的类，因为我们总是尝试向上委托。一个类在同一个类加载器中具有<strong>唯一性(Uniqueness)**，而不同类加载器中是允许同名类存在的，这里的同名是指</strong>全限定名相同**。但是在整个JVM里，纵然全限定名相同，若类加载器不同，则仍然不算作是同一个类，无法通过 instanceOf 、equals 等方式的校验。</li>
</ol>
<p>类的执行顺序： 父类静态变量 -》父类静态代码块  -》子类静态变量 -》子类静态代码块 -》父类非静态变量 -》父类非静态代码块 -》父类构造函数 -》子类非静态变量 -》子类非静态代码块 -》子类构造函数。</p>
<p><code>Class.forname -&gt;(向上委托父类) ClassLoader.loadClass -&gt; (父类加载失败，自己加载)URLClassLoader.findClass</code></p>
<p>类的加载步骤：装载class文件。链接：验证（检查class文件的正确性）；准备（将为所有静态变量分配内存并为其分配默认值）；解析（将所有符号内存引用替换为“方法区域”中的原始引用）。初始化（所有静态变量将被分配原始值，并且将执行静态块）。</p>
<p>破坏双亲委派：**SPI(service  provider interface)**；Driver。</p>
<h2 id="类创建的方式"><a href="#类创建的方式" class="headerlink" title="类创建的方式"></a>类创建的方式</h2><p>通过new实例化；通过反射； 通过clone方法；通过反序列化。</p>
<h2 id="重载与重写"><a href="#重载与重写" class="headerlink" title="重载与重写"></a>重载与重写</h2><p>重载： 发生在一个类里，方法名相同，参数类型、顺序、个数不同，返回值和修饰符可以不同。<br>重写： 父子类中，方法名和参数必须相同，返回值范围不大于父类。</p>
<h2 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h2><p>无参和有参。父子类中，如果父类声明了有参构造函数，在子类构造函数中没有用super（）声明，则会出现错误。</p>
<h2 id="接口与抽象类"><a href="#接口与抽象类" class="headerlink" title="接口与抽象类"></a>接口与抽象类</h2><ol>
<li>接口方法只能用 public, abstract, default, static and strictfp（strict float point（精确浮点）修饰类）来修饰，可以有默认实现。抽象类中可以有非抽象方法。</li>
<li>接口只能有static和final变量。</li>
<li>一个类可以implements多个接口，但只能继承一个抽象类。</li>
<li>抽象是对类的抽象，是一种模板设计，而接口是对行为的抽象，是一种行为的规范。</li>
</ol>
<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><p><strong>Throwable</strong>: 异常能被程序本身处理，错误是无法处理。</p>
<ol>
<li>Error: 程序无法处理的错误，系统内部错误。</li>
<li>Exception<ol>
<li>RuntimeException: 如NullPointerException，ClassCastException、ArrayIndexOutOfBoundsException、ArithmeticException，</li>
<li>CheckedException: IOException、SQLException</li>
</ol>
</li>
</ol>
<h2 id="hashCode-与equals-的约定"><a href="#hashCode-与equals-的约定" class="headerlink" title="hashCode()与equals()的约定"></a>hashCode()与equals()的约定</h2><p>equals约定： </p>
<ul>
<li>自反性： 对于非null的引用值x，<code>x.equals(x)</code>必须返回true。</li>
<li>对称性：非null的x和y，<code>x.equlas(y)</code>返回true，<code>y.equals(x)</code>必须返回true。</li>
<li>传递性： x-y-z，互相equals必须返回true。</li>
<li>一致性：多次调用的结果和一次一样</li>
<li><code>x.equals(null)</code>必须返回false。</li>
<li>覆盖equals时总要覆盖hashCode</li>
</ul>
<p>hashCode约定：</p>
<ul>
<li>如果两个对象的equals相等，则hashCode也必须相等。</li>
<li>两个对象有相同的hashcode值，它们equals不一定是相等的。</li>
<li>一致性</li>
</ul>
<h2 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h2><p>类型安全，提供编译检测，兼容，代码可以重复利用，性能高</p>
<p>泛型中的限定通配符与非限定通配符**</p>
<p><strong>非限定通配符</strong>：可以用任意类型来替代。</p>
<p><code>extends</code>：上限通配符，用来限制类型的上限。</p>
<p><code>super</code>：下限通配符，用来限制类型的下限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;T&gt; 等于 &lt; T extends Object&gt;</span><br><span class="line">&lt;?&gt; 等于 &lt; ? extends Object&gt;</span><br></pre></td></tr></table></figure>

<p>如何工作：类型检查；类型擦除；类型擦除和多态性发生了冲突时，则在子类中生成桥方法解决；如果调用泛型方法的返回类型被擦除，则在调用该方法时插入强制类型转。</p>
<p>类型擦除：兼容，范型只存在代码编译阶段</p>
<h2 id="匿名类"><a href="#匿名类" class="headerlink" title="匿名类"></a>匿名类</h2><p><em>匿名内部类中不能定义静态属性、方法；可以访问外部的所有成员。</em></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldAnonymousClasses</span> </span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">interface</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span></span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 局部类EnglishGreeting实现了HelloWorld接口</span></span><br><span class="line">		<span class="class"><span class="keyword">class</span> <span class="title">EnglishGreeting</span> <span class="keyword">implements</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">			String name = <span class="string">&quot;world&quot;</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				greetSomeone(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span> </span>&#123;</span><br><span class="line">				name = someone;</span><br><span class="line">				System.out.println(<span class="string">&quot;Hello &quot;</span> + name);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		HelloWorld englishGreeting = <span class="keyword">new</span> EnglishGreeting();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 在局部变量frenchGreeting和spanishGreeting的初始化语句中使用匿名类</span></span><br><span class="line">		HelloWorld frenchGreeting = <span class="keyword">new</span> HelloWorld() &#123;			</span><br><span class="line">			String name = <span class="string">&quot;tout le monde&quot;</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				greetSomeone(<span class="string">&quot;tout le monde&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span> </span>&#123;</span><br><span class="line">				name = someone;</span><br><span class="line">				System.out.println(<span class="string">&quot;Salut &quot;</span> + name);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		HelloWorld spanishGreeting = <span class="keyword">new</span> HelloWorld() &#123;</span><br><span class="line">			String name = <span class="string">&quot;mundo&quot;</span>;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">				greetSomeone(<span class="string">&quot;mundo&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">greetSomeone</span><span class="params">(String someone)</span> </span>&#123;</span><br><span class="line">				name = someone;</span><br><span class="line">				System.out.println(<span class="string">&quot;Hola, &quot;</span> + name);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		englishGreeting.greet();</span><br><span class="line">		frenchGreeting.greetSomeone(<span class="string">&quot;Fred&quot;</span>);</span><br><span class="line">		spanishGreeting.greet();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String... args)</span> </span>&#123;</span><br><span class="line">		HelloWorldAnonymousClasses myApp = <span class="keyword">new</span> HelloWorldAnonymousClasses();</span><br><span class="line">		myApp.sayHello();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>把Java对象转为字节序列的过程。</p>
<h3 id="阻止序列化"><a href="#阻止序列化" class="headerlink" title="阻止序列化"></a>阻止序列化</h3><p>private <strong>transient(关键字)</strong> type field;</p>
<h3 id="序列化协议"><a href="#序列化协议" class="headerlink" title="序列化协议"></a>序列化协议</h3><ul>
<li><p><strong>COM和CORBA</strong></p>
</li>
<li><p><strong>XML&amp;SOAP</strong></p>
</li>
<li><p><strong>JSON(Javascript Object Notation)</strong></p>
</li>
<li><p><strong>Thrift</strong></p>
</li>
<li><p><strong>Protobuf</strong>：</p>
<p>1、标准的IDL和IDL编译器，这使得其对工程师非常友好。</p>
<p>2、序列化数据非常简洁，紧凑，与XML相比，其序列化之后的数据量约为1/3到1/10。</p>
<p>3、解析速度非常快，比对应的XML快约20-100倍。</p>
<p>4、提供了非常友好的动态库，使用非常简介，反序列化只需要一行代码。</p>
</li>
<li><p><strong>Avro</strong></p>
</li>
</ul>
<h3 id="序列化的底层实现"><a href="#序列化的底层实现" class="headerlink" title="序列化的底层实现"></a>序列化的底层实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;temp.out&quot;</span>);</span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(fos);</span><br><span class="line">    TestObject testObject = <span class="keyword">new</span> TestObject();</span><br><span class="line">    oos.writeObject(testObject);</span><br><span class="line">    oos.flush();</span><br><span class="line">    oos.close();</span><br></pre></td></tr></table></figure>

<h2 id="常见关键字"><a href="#常见关键字" class="headerlink" title="常见关键字"></a>常见关键字</h2><p>static final synchronized volatile strictfp</p>
<p>final: 主要用于变量、方法和类。</p>
<ol>
<li>对于一个final变量，如果是基础数据类型，初始化后不能更改；如果是引用类型变量，在初始化后不能指向另一个对象。</li>
<li>声明类时，该类不能被继承，成员方法隐式指定为final。</li>
</ol>
<p>static: 修饰变量和方法、静态代码块、静态内部类、静态导包。<br>this: 当前实例。<br>super: 从子类访问父类的变量和方法。<br><strong>this、super 在构造方法中，必须处于首行，不能用于static方法中。</strong></p>
<p><strong>this和super不能同时出现在一个构造函数里面，因为this必然会调用其它的构造函数，其它的构造函数必然也会有super语句的存在，所以在同一个构造函数里面有相同的语句，就失去了语句的意义，编译器也不会通过。</strong></p>
<p><strong>this是一个指向本对象的指针, 然而super是一个Java关键字。</strong></p>
<p><strong>this()和super()都指的是对象，所以，均不可以在static环境中使用。包括：static变量,static方法，static语句块。</strong></p>
<h2 id="排序算法"><a href="#排序算法" class="headerlink" title="排序算法"></a>排序算法</h2><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><p>相邻两元素交换,时间复杂度：O(n) – O(n^2)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span>[] array = &#123;<span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>&#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>; i &lt; array.length -<span class="number">1</span>; i++)&#123;</span><br><span class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> j =<span class="number">0</span>; j&lt; array.length - i - <span class="number">1</span>; j++)&#123;</span><br><span class="line">       <span class="keyword">if</span>(array[j+<span class="number">1</span>] &lt; array[j])&#123;</span><br><span class="line">         <span class="keyword">int</span> temp = array[j]; </span><br><span class="line">         array[j] = array[j+<span class="number">1</span>];</span><br><span class="line">         array[j+<span class="number">1</span>] = temp;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>找到不小于该元素的位置,时间复杂度：O(n) – O(n^2)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertionSort</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span>[] array = &#123;<span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>&#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arrays.length; i++)&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = array[i];</span><br><span class="line">    <span class="keyword">int</span> j = i-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(j&gt;=<span class="number">0</span> &amp;&amp; array[j] &gt; temp)&#123;</span><br><span class="line">      array[j+<span class="number">1</span>]=array[j];</span><br><span class="line">      j--;</span><br><span class="line">    &#125;</span><br><span class="line">    array[j+<span class="number">1</span>] = temp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>将最小值找出放在首位，然后再从剩余的数列中找出最小的，放入上个最小元素的后面，以此类推。时间复杂度：O(n^2) – O(n^2)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertionSort</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span>[] array = &#123;<span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>&#125;;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length-<span class="number">1</span>; i++)&#123;</span><br><span class="line">    <span class="keyword">int</span> min = i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = i+<span class="number">1</span>; j&lt; array.length; j++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(array[j] &lt; array[min])&#123;</span><br><span class="line">        min = j;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> temp = array[i];</span><br><span class="line">    array[i] = array[min];</span><br><span class="line">    array[min] = temp;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p>挑选基准值：从数列中挑出一个元素，称为“基准”（pivot），以该pivot为分割线，小于的放前面，大于的放后面，递归。时间复杂度： O(n log n) – O(n^2)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// first head=0,tail=arr.length-1</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">quickSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> head, <span class="keyword">int</span> tail)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(head &gt;= tail)&#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> i = head; <span class="keyword">int</span> j = tail; <span class="keyword">int</span> pivot = arr[(i + j) / <span class="number">2</span>];</span><br><span class="line">  <span class="keyword">while</span>(i &lt;= j)&#123;</span><br><span class="line">    <span class="keyword">while</span>(arr[i] &lt; arr[pivot])&#123;</span><br><span class="line">      ++i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(arr[j] &gt; arr[pivot])&#123;</span><br><span class="line">      --j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(i &lt; j)&#123;</span><br><span class="line">      <span class="keyword">int</span> temp = arr[i];</span><br><span class="line">      <span class="keyword">int</span> arr[i] = arr[j];</span><br><span class="line">      arr[j] = arr[i];</span><br><span class="line">      ++i;</span><br><span class="line">      --j;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i == j)&#123;</span><br><span class="line">      ++i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  quickSort(arr, head, j);</span><br><span class="line">  quickSort(arr, i, tail);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h3><ol>
<li>节点是红色或黑色</li>
<li>根节点是黑色</li>
<li>所有叶子都是黑色（叶子是NIL节点）</li>
<li>每个红色节点必须有两个黑色的子节点</li>
<li>从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点</li>
</ol>
<h3 id="链表深复制"><a href="#链表深复制" class="headerlink" title="链表深复制"></a>链表深复制</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RandomListNode</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> label;</span><br><span class="line">  RandomListNode next;</span><br><span class="line">  RandomListNode random;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">RandomListNode</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.label = x;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> RandomListNode <span class="title">deepCopy</span><span class="params">(RandomListNode head)</span></span>&#123;</span><br><span class="line">  RandomListNode newHead = <span class="keyword">new</span> RandomListNode(head.label);</span><br><span class="line">  RandomListNode temp = newHead;</span><br><span class="line">  RandomListNode temp2 = head;</span><br><span class="line">  <span class="keyword">while</span>(temp2.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">    temp2 = temp2.next;</span><br><span class="line">    temp.next = <span class="keyword">new</span> RandomListNode(temp2.label);</span><br><span class="line">    temp = temp.next;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  temp = newHead;</span><br><span class="line">  temp2 = head;</span><br><span class="line">  <span class="keyword">while</span>(temp2.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">    RandomListNode random = temp2.random;</span><br><span class="line">    RandomListNode cur = newHead;</span><br><span class="line">    <span class="keyword">while</span>(random != <span class="keyword">null</span> &amp;&amp; cur.next != <span class="keyword">null</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span>(random.label == cur.label)&#123;</span><br><span class="line">        temp.random = cur;</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    temp2 = temp2.next;</span><br><span class="line">    temp = temp.next;</span><br><span class="line">  &#125;</span><br><span class="line"> 	<span class="keyword">return</span> newhead;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="链表翻转"><a href="#链表翻转" class="headerlink" title="链表翻转"></a>链表翻转</h3><h2 id="Java-8-新特性"><a href="#Java-8-新特性" class="headerlink" title="Java 8 新特性"></a>Java 8 新特性</h2><ul>
<li>Lambda表达式和函数式接口(<code>@FunctionalInterface</code>)</li>
<li>接口的默认和静态方法</li>
<li>方法引用</li>
<li>重复注解<code>@Repeatable</code></li>
<li>Optional 类</li>
<li>Stream API</li>
<li>新的 Date-Time API</li>
<li>JVM 元数据(<strong>Metaspace</strong>)代替永久代<strong>PermGen</strong> space</li>
</ul>
<h2 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h2><ul>
<li>按流向可分为输出流和输入流。</li>
<li>按操作单元可分为字节流和字符流。<ul>
<li>字节流操作的基本单元为字节；字符流操作的基本单元为Unicode码元。</li>
<li>字节流默认不使用缓冲区；字符流使用缓冲区。</li>
<li>字节流通常用于处理二进制数据，实际上它可以处理任意类型的数据，但它不支持直接写入或读取Unicode码元；字符流通常处理文本数据，它支持写入及读取Unicode码元。</li>
</ul>
</li>
<li>按照流的角色划分为节点流和处理流。<br>由InputStream/Reader OutputStream/Writer这个抽象类派生。<br>IO模型： NIO、BIO、AIO</li>
<li>BIO: blocking I/O：同步阻塞I/O模式。提供了<strong>channel</strong>，<strong>selector</strong>，<strong>buffer</strong>(变量：capacity，position 当前已读写的字节数，limit还可以读写的字节数)等抽象。</li>
<li>NIO: new I/0 or Non-blocking I/O：同步非阻塞I/O。</li>
<li>AIO: asynchronized I/O：异步非阻塞I/O。</li>
</ul>
<h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><p>参考：<a target="_blank" rel="noopener" href="https://www.runoob.com/design-pattern/factory-pattern.html">https://www.runoob.com/design-pattern/factory-pattern.html</a></p>
<h3 id="单列模式"><a href="#单列模式" class="headerlink" title="单列模式"></a>单列模式</h3><p>破坏单列：反射与反序列化</p>
<p>反射解决：private Singleton(){ if(singleton != null ){ return new Exception  } }</p>
<p>反序列化解决：在ObjectInputStream#readOrdinaryObject中，会判断对象是否包含readResolve方法</p>
<ul>
<li>懒汉模式<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 线程不安全</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">			instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> instance;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 线程安全</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">			instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> instance;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// double check</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">synchronized</span>(Singleton.class)&#123;</span><br><span class="line">				<span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">					instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> instance;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>饿汉模式<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> instance;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h3><p><strong>意图：</strong>定义一个创建对象的接口，让其子类自己决定实例化哪一个工厂类，工厂模式使其创建过程延迟到子类进行。</p>
<h3 id="抽象工厂模式"><a href="#抽象工厂模式" class="headerlink" title="抽象工厂模式"></a>抽象工厂模式</h3><p><strong>意图：</strong>提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。</p>
<h3 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h3><p><strong>意图：</strong>将一个复杂的构建与其表示相分离，使得同样的构建过程可以创建不同的表示。</p>
<h3 id="适配器模式"><a href="#适配器模式" class="headerlink" title="适配器模式"></a>适配器模式</h3><p><strong>意图：</strong>将一个类的接口转换成客户希望的另外一个接口。适配器模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。</p>
<h3 id="代理模式"><a href="#代理模式" class="headerlink" title="代理模式"></a>代理模式</h3><p><strong>意图：</strong>为其他对象提供一种代理以控制对这个对象的访问。</p>
<h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><p><strong>意图：</strong>定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。</p>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p><strong>Thread.yield()</strong></p>
<h3 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h3><p>线程基本状态： NEW、RUNNABLE、BLOCKED、WAITING、TIME_WAITING、TERMINATED。</p>
<p>当<strong>NEW</strong>一个线程后，线程处于<strong>ready</strong>，等获取到了Cpu时间片后处于运行状态。</p>
<h3 id="线程优先级"><a href="#线程优先级" class="headerlink" title="线程优先级"></a>线程优先级</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">thread.setPriority(Thread.MAX_PRIORITY);</span><br></pre></td></tr></table></figure>

<p><code>Thread.MIN_PRIORITY</code> 1, 最低优先级</p>
<p><code>Thread.NORM_PRIORITY</code> 5, 普通优先级</p>
<p><code>Thread.MAX_PRIORITY</code> 10, 最高优先级</p>
<p><strong>newPriority</strong>只能在最高与最低之间</p>
<h3 id="多个线程按序执行"><a href="#多个线程按序执行" class="headerlink" title="多个线程按序执行"></a>多个线程按序执行</h3><ol>
<li>使用<strong>join</strong>/ <strong>join(long millis)</strong></li>
<li><strong>CountDownLatch</strong>, <code>new CountDownLatch(0)</code></li>
<li>使用Executors.newSingleThreadExecutor()，单线程提交</li>
</ol>
<h3 id="sleep-和wait-的区别和共同点"><a href="#sleep-和wait-的区别和共同点" class="headerlink" title="sleep()和wait()的区别和共同点"></a>sleep()和wait()的区别和共同点</h3><ol>
<li>sleep没有释放锁</li>
<li>都可以暂停线程的执行</li>
<li>Wait 通常被用于线程间交互/通信，sleep 通常被用于暂停执行</li>
<li>sleep会自动苏醒，wait也可以设置时间或者notify唤醒</li>
</ol>
<h3 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h3><p><strong>优点</strong>： 降低资源消耗；提高响应速度；提高线程的可管理性。</p>
<p><code>Runnable</code>接口和<code>Callable</code>接口的区别： <code>Callable</code>可以返回结果。<br><code>execute()</code>和<code>submit()</code>的区别： <code>execute()</code>提交不需要返回值的任务；<code>submit()</code>方法用于提交需要返回值的任务，线程池会返回一个Future类型的对象，抛出的异常会保存在成员变量里。</p>
<p>线程池的创建： 不允许使用<code>Executors</code>去创建，而是通过<code>ThreadPoolExecutor</code>的方式创建。</p>
<ul>
<li><code>FixedThreadPool</code>和<code>SingleThreadPool</code>: 允许请求队列的长度为<code>Integer.MAX_VALUE</code>,可能堆积大量的请求从而导致<code>OOM</code>;</li>
<li><code>CachedThreadPool</code>和<code>ScheduledThreadPool</code>：允许创建的线程数量为<code>Integer.MAX_VALUE</code>，可能会创建大量的线程，从而导致<code>OOM</code>;</li>
</ul>
<h4 id="主要参数与拒绝策略"><a href="#主要参数与拒绝策略" class="headerlink" title="主要参数与拒绝策略"></a>主要参数与拒绝策略</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ThreadPoolExecutor pool = <span class="keyword">new</span> ThreadPoolExecutor(<span class="keyword">int</span> corePoolSize,</span><br><span class="line">                              									 <span class="keyword">int</span> maximumPoolSize,</span><br><span class="line">                              									 <span class="keyword">long</span> keepAliveTime,</span><br><span class="line">                              									 TimeUnit unit,</span><br><span class="line">                              									 BlockingQueue&lt;Runnable&gt; workQueue,</span><br><span class="line">                              									 ThreadFactory threadFactory,</span><br><span class="line">                              									 RejectedExecutionHandler handler);</span><br></pre></td></tr></table></figure>

<p><code>keepAliveTime</code>：空闲线程的存活时间。</p>
<p>当任务大于核心线程时会将任务放入队列，队列满了会去创建新的线程直到设定的最大线程数，最大线程和队列都满了会根据<code>RejectedExecutionHandler</code>来处理，默认<code>AbortPolicy</code>。</p>
<p><code>AbortPolicy</code>：终止执行，抛出异常。</p>
<p><code>CallerRunsPolicy</code>：把任务交给当前线程去执行。</p>
<p><code>DiscardPolicy</code>：丢弃任务。</p>
<p><code>DiscardOldestPolicy</code>：丢弃最旧的未处理的任务。</p>
<p><strong>五个运行状态</strong>：<code>RUNNING</code>；<code>SHUTDOWN</code> 会继续执行阻塞队列中的任务；<code>STOP</code>；<code>TIDYING</code> workCount为0；<code>TERMINATED</code>；</p>
<h2 id="Synchronized"><a href="#Synchronized" class="headerlink" title="Synchronized"></a>Synchronized</h2><p>Synchronized属于重量级锁，依赖操作系统的Mutex Lock来实现monitor监视,JDK 1.6进行了大量优化，减少锁操作的开销。同步块使用monitorenter和monitorexit来表示起始和结束位置，锁计数器为0则可获取。方法使用<code>ACC_SYNCHRONIZED</code>来标记。</p>
<p>Synchronized同步静态方法和非静态方法的区别：synchronized 关键字加到 static 静态方法和 synchronized(class)代码块上都是是给 Class 类上锁。synchronized 关键字加到实例方法上是给对象实例上锁。尽量不要使用 synchronized(String a) 因为JVM中，字符串常量池具有缓存功能！</p>
<p>synchronized与ReentrantLock的区别：</p>
<ul>
<li>两者都是可重入锁</li>
<li>synchronize依赖于JVM，ReentrantLock依赖于API</li>
<li>ReentrantLock 等待可中断，可实现公平锁，可实现选择性通知。</li>
</ul>
<p>synchronized与volatile的区别：</p>
<ul>
<li>volatile是线程同步的轻量级实现，效率比synchronized好，volatile只能作用于变量。</li>
<li>volatile保证数据的可见性，并不能保证原子性。synchronized两者都能保证。</li>
<li>volatile主要用于解决变量在多线程之间的可见性。synchronized主要解决多线程之间访问资源的同步性。</li>
</ul>
<p><strong>并发编程的三个重要特性</strong></p>
<p><strong>原子性：</strong>一次操作或多次操作要么全部成功要么全部失败</p>
<p><strong>可见性：</strong>当一个线程对一个共享变量进行了修改，那么其它线程可以立即看到修改的最新值</p>
<p><strong>有序性：</strong>禁止进行重排序列化</p>
<h2 id="AQS"><a href="#AQS" class="headerlink" title="AQS"></a>AQS</h2><p><code>AbstractQueuedSynchronizer</code><br>核心思想： 如果被访问的共享资源是空闲的，则将当前的请求线程设置为有效的工作线程。如果资源被占用，则创建一个FIFO队列来存储线程，CLH队列。</p>
<h3 id="ReentrantLock"><a href="#ReentrantLock" class="headerlink" title="ReentrantLock"></a>ReentrantLock</h3><p>参考： <a target="_blank" rel="noopener" href="https://blog.reactor.top/2018/01/31/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E9%94%81%E4%B9%8BReentrantLock%E6%80%BB%E7%BB%93/">https://blog.reactor.top/2018/01/31/%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E9%94%81%E4%B9%8BReentrantLock%E6%80%BB%E7%BB%93/</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/entry/5a70a5f951882522b552a374">https://juejin.im/entry/5a70a5f951882522b552a374</a></p>
<h2 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h2><h3 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h3><p>死锁：多个线程被粗塞，他们中的一个或全部都在等待某个资源的释放。<br>四个条件：<br>    - <strong>互斥</strong>： 只有一个进程能持有资源<br>    - <strong>持有和等待</strong>： 一个进程在等待时持有系统资源<br>    - <strong>禁止抢占</strong>： 不能强制从进程中释放资源<br>    - <strong>循环等待</strong>： 即存在一个等待队列：P1占有P2的资源，P2占有P3的资源，P3占有P1的资源<br>预防和避免：合理分配资源；防止进程在等待情况下占有资源；允许抢占。</p>
<h3 id="CAS"><a href="#CAS" class="headerlink" title="CAS"></a>CAS</h3><p>Compare And Swap<br>涉及到的三个操作： 需要进行读写的内存值V；进行比较的A；要写入的新值B。</p>
<p>无锁编程，缺点：</p>
<ul>
<li>ABA问题</li>
<li>循环时间大</li>
<li>只能保证一个共享变量的原子操作                    </li>
</ul>
<h3 id="乐观锁和悲观锁"><a href="#乐观锁和悲观锁" class="headerlink" title="乐观锁和悲观锁"></a>乐观锁和悲观锁</h3><h3 id="自旋锁"><a href="#自旋锁" class="headerlink" title="自旋锁"></a>自旋锁</h3><p>默认是10次，可以使用**-XX:PreBlockSpin**来更改</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpinLock</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> AtomicReference cas = <span class="keyword">new</span> AtomicReference();</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">lock</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Thread cur = Thread.currentThread();</span><br><span class="line">    <span class="keyword">while</span>(! cas.compareAndSet(<span class="keyword">null</span>, cur))&#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">unlock</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Thread cur = Thread.currentThread();</span><br><span class="line">    cas.compareAndSet(cur, <span class="keyword">null</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h3 id="同步锁"><a href="#同步锁" class="headerlink" title="同步锁"></a>同步锁</h3><h3 id="可重入锁"><a href="#可重入锁" class="headerlink" title="可重入锁"></a>可重入锁</h3><p>是指同一线程在外层方法获取锁后，在进入该线程的内部方法也能获取到锁，前提锁对象是同一个对象或者class。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line"> <span class="function">pulic <span class="keyword">void</span> <span class="title">get</span><span class="params">()</span></span>&#123;</span><br><span class="line">	lock.lock();</span><br><span class="line">	set();</span><br><span class="line">	lock.unlock();</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">()</span></span>&#123;</span><br><span class="line">	lock.lock();</span><br><span class="line">	lock.unlock();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="公平锁和非公平锁"><a href="#公平锁和非公平锁" class="headerlink" title="公平锁和非公平锁"></a>公平锁和非公平锁</h3><h3 id="读写锁"><a href="#读写锁" class="headerlink" title="读写锁"></a>读写锁</h3><h3 id="共享锁和独占锁"><a href="#共享锁和独占锁" class="headerlink" title="共享锁和独占锁"></a>共享锁和独占锁</h3><h3 id="分段锁"><a href="#分段锁" class="headerlink" title="分段锁"></a>分段锁</h3><h3 id="偏向锁、轻量级锁和重量级锁"><a href="#偏向锁、轻量级锁和重量级锁" class="headerlink" title="偏向锁、轻量级锁和重量级锁"></a>偏向锁、轻量级锁和重量级锁</h3><p>Java对象头包含两部分数据：Mark Word(标记字段)、Klass Pointer(类型指针)。</p>
<p>Mark Word: 默认存储对象的HashCode，分代年龄和锁标记位信息。</p>
<p>Klass Pointer： 对象实例的指针</p>
<ul>
<li><p>无锁： 标志为 01</p>
</li>
<li><p>偏向锁： 指一段同步代码一直被同一个线程访问，那么该线程会自动获取锁，降低获取锁的代价，通过MARK WORLD来标记ThreadId，在线程进入和退出同步块时不再通过CAS操作来加锁和解锁，而是检测Mark Word里是否存储着指向当前线程的偏向锁。标志位为0。</p>
<p>Jdk1.6: -XX:-UseBiasedLocking  来禁用偏向锁，-XX:PreBlockSpin=10 次数，jdk1.7 后由JVM控制。</p>
</li>
<li><p>轻量级锁： 标志位为00，将Mark Word拷贝到lock record，在用cas比较；是指当锁是偏向锁的时候，被另外的线程所访问，偏向锁就会升级为轻量级锁，其他线程会通过自旋的形式尝试获取锁，不会阻塞，从而提高性能。通过CAS和自旋来解决加锁问题，当有第三个线程来访问时升级为重量锁。</p>
</li>
<li><p>重量级锁： 标志位为10</p>
</li>
</ul>
<h3 id="锁优化"><a href="#锁优化" class="headerlink" title="锁优化"></a>锁优化</h3><p>减少锁的时间，减少锁的力度，用线程安全的类，使用cas，读些锁，锁粗化</p>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><p>由于JVM为每个加载的<code>class</code>创建了对应的<code>Class</code>实例，并在实例中保存了该<code>class</code>的所有信息，包括类名、包名、父类、实现的接口、所有方法、字段等，因此，如果获取了某个<code>Class</code>实例，我们就可以通过这个<code>Class</code>实例获取到该实例对应的<code>class</code>的所有信息。这种通过<code>Class</code>实例获取<code>class</code>信息的方法称为反射。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取class的Class实例方法</span></span><br><span class="line">Class <span class="class"><span class="keyword">class</span> </span>= String.class;</span><br><span class="line">Class <span class="class"><span class="keyword">class</span> </span>= <span class="string">&quot;&quot;</span>.getClass();</span><br><span class="line">Class <span class="class"><span class="keyword">class</span> </span>= Class.forName(<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure>



<h2 id="网络协议，-TCP的三次握手和四次挥手"><a href="#网络协议，-TCP的三次握手和四次挥手" class="headerlink" title="网络协议， TCP的三次握手和四次挥手"></a>网络协议， TCP的三次握手和四次挥手</h2><p>OSI七层协议： 物理层，数据链路层，网络层，运输层，会话层，表示层，应用层。<br>TCP/IP 四层： 网路接口层，网络层，运输层，应用层。</p>
<p>三次握手： SYN -&gt; SYN/ACK -&gt; ACK<br>四次挥手： client: FIN -&gt; ACK  server: FIN -&gt; ACK</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p>锁： <a target="_blank" rel="noopener" href="https://tech.meituan.com/2018/11/15/java-lock.html">https://tech.meituan.com/2018/11/15/java-lock.html</a></p>
<p>自旋锁： <a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015795906">https://segmentfault.com/a/1190000015795906</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Java/" rel="tag"># Java</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/08/13/hexo/" rel="prev" title="hexo搭建与基本使用">
                  <i class="fa fa-chevron-left"></i> hexo搭建与基本使用
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/08/13/spring/" rel="next" title="Spring">
                  Spring <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
  
  
  



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fab fa-affiliatetheme"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">holiday</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">42k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:16</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="//cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  <script src="/js/local-search.js"></script>












  








  

  

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var i=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){i&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,e,a=0;a<r.length;a++)t=r[a],e=void 0,0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>
</html>
